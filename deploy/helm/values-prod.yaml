image:
  repository: dosmfaqchatbotacr1lw5a.azurecr.io/dosm-faq-chatbot
  tag: prod
  pullSecretName: ""  # set to acr-pull or managed identity not needed

replicaCount: 3

resources:
  requests:
    cpu: 200m
    memory: 256Mi
  limits:
    cpu: 1
    memory: 1Gi

env:
  LOG_LEVEL: INFO
  # API_KEY and DATABASE_URL provided via secrets when enabled
  MODEL_VERSION: "dosm-rag-prod"
nameOverride: "faq-chatbot-dosm-insights"
fullnameOverride: "faq-chatbot-dosm-insights"
keyVaultCSI:
  enabled: false
  tenantId: "00000000-0000-0000-0000-000000000000" # prod tenant ID placeholder
  vaultName: "dosm-kv-prod" # prod Key Vault name placeholder
  objects: |
    array:
      - objectName: api-key
        objectType: secret
        objectVersion: ""
      - objectName: database-url
        objectType: secret
  secretFiles:
    API_KEY: /mnt/secrets-store/api-key
    DATABASE_URL: /mnt/secrets-store/database-url

prometheus:
  scrape: true
  port: 8000
  path: /metrics

secrets:
  enabled: true
  apiKey: prod-placeholder  # Replace via external secret management
  databaseUrl: postgresql://postgres:prodpass@postgres.prod.svc.cluster.local:5432/dosm_insights

ingress:
  enabled: true
  className: nginx
  host: dosm.example.com
